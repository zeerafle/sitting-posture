schema: '2.0'
stages:
  featurize:
    cmd: uv run python src/featurize.py
    deps:
    - path: data/original
      hash: md5
      md5: 2e48746054b3065a5dcb4c7da98abc9e.dir
      size: 4410730947
      nfiles: 1620
    - path: src/featurize.py
      hash: md5
      md5: a3c218bdbc7f80e4d3c963c788e95a73
      size: 606
      isexec: true
    outs:
    - path: data/data.csv
      hash: md5
      md5: 62594eb52e65c03d334c16e347e4dcfb
      size: 602132
    - path: data/poses_images_out
      hash: md5
      md5: a0a69b18d360cf189b99eb19cfde19a3.dir
      size: 6533685930
      nfiles: 2466
  prepare:
    cmd: uv run python src/prepare.py
    deps:
    - path: data/data.csv
      hash: md5
      md5: 62594eb52e65c03d334c16e347e4dcfb
      size: 602132
    - path: src/prepare.py
      hash: md5
      md5: 1afd29c3604afb94f942335de169fe6e
      size: 6756
      isexec: true
    outs:
    - path: data/processed
      hash: md5
      md5: 2855099348d74d1624e2b72f4a327974.dir
      size: 859285
      nfiles: 6
  train@nn:
    cmd: python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 92fe0b359442e81d421014f2da0f3f00.dir
      size: 843215
      nfiles: 6
    - path: ../../evaluate.py
      hash: md5
      md5: a44ec0acbe71967e5a1609f101d9ebad
      size: 1621
    - path: train.py
      hash: md5
      md5: fd5fcf5f513575b345bff66497384980
      size: 1945
    outs:
    - path: ../../../dvclive/nn/metrics.json
      hash: md5
      md5: 9472e258e16145d3c6d186f152cd366a
      size: 426
    - path: ../../../dvclive/nn/plots/images
      hash: md5
      md5: 96dade627771b3e16c85f50c731086f4.dir
      size: 279610
      nfiles: 2
    - path: ../../../dvclive/nn/plots/metrics
      hash: md5
      md5: 3613b6757e56d7e1c33e4cbb04036099.dir
      size: 7916
      nfiles: 9
    - path: model.keras
      hash: md5
      md5: dded0cba44aaea12667cf0fdbe75a3b9
      size: 175992
  download:
    cmd: kaggle datasets download -d zeerafle/sitting-posture -p data/original 
      --unzip
    outs:
    - path: data/original
      hash: md5
      md5: f458dc9b6943d40f2877b4f63078bd55.dir
      size: 4931462708
      nfiles: 1725
  train@0:
    cmd: python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 7983815f9ab4ca79cc3f24b754b71c7d.dir
      size: 833552
      nfiles: 3
    - path: ../../evaluate.py
      hash: md5
      md5: 9750451b75fa9fd3133b164423b9adc9
      size: 1044
    - path: train.py
      hash: md5
      md5: de4cc961d34506a92c623e755dc746c0
      size: 1741
    outs:
    - path: ../../../dvclive/nn/metrics.json
      hash: md5
      md5: 27eb163fc70ec295be20945fb2597b82
      size: 425
    - path: ../../../dvclive/nn/plots/images
      hash: md5
      md5: b45cdf9c0f72acfa78741bf8729331cd.dir
      size: 194675
      nfiles: 2
    - path: ../../../dvclive/nn/plots/metrics
      hash: md5
      md5: 1d860435e9b4f153460e0804298b2b65.dir
      size: 6234
      nfiles: 9
    - path: model.keras
      hash: md5
      md5: 563059d16b21dd7e536ff4c8fc466b6e
      size: 176464
  train@1:
    cmd: python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 7983815f9ab4ca79cc3f24b754b71c7d.dir
      size: 833552
      nfiles: 3
    - path: ../../evaluate.py
      hash: md5
      md5: 9750451b75fa9fd3133b164423b9adc9
      size: 1044
    - path: train.py
      hash: md5
      md5: e4280781cde58304dc460eda60b613e0
      size: 1059
    outs:
    - path: ../../../dvclive/adaboost/metrics.json
      hash: md5
      md5: 194d211150fe8ce4b82f0d7a52bcca6b
      size: 206
    - path: ../../../dvclive/adaboost/plots/images
      hash: md5
      md5: 17380a8883a8cbda819ac00082996bbb.dir
      size: 197922
      nfiles: 2
    - path: ../../../dvclive/adaboost/plots/metrics
      hash: md5
      md5: 35726495fef10f47fba7a4577bd7a3fb.dir
      size: 201
      nfiles: 5
    - path: adaboost.joblib
      hash: md5
      md5: 100f35d8a8f60bd4e949c87bd0107f62
      size: 322100
  train@2:
    cmd: python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 7983815f9ab4ca79cc3f24b754b71c7d.dir
      size: 833552
      nfiles: 3
    - path: ../../evaluate.py
      hash: md5
      md5: 9750451b75fa9fd3133b164423b9adc9
      size: 1044
    - path: train.py
      hash: md5
      md5: 2381f13ab30c03cdeb09ceeb8cf9cd44
      size: 923
    outs:
    - path: ../../../dvclive/xgb/metrics.json
      hash: md5
      md5: a20ed80bc7dbe3eeac9485db99b5ed9f
      size: 207
    - path: ../../../dvclive/xgb/plots/images
      hash: md5
      md5: 1a8ae4b5437d2f189611e0af16a9fd52.dir
      size: 194666
      nfiles: 2
    - path: ../../../dvclive/xgb/plots/metrics
      hash: md5
      md5: 397de00cdd392d05ebc33ecad8fce5a0.dir
      size: 202
      nfiles: 5
    - path: model.json
      hash: md5
      md5: 9a9bb053aadd2642faf54282d72f8846
      size: 204542
  train@xgb:
    cmd: uv run python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 2855099348d74d1624e2b72f4a327974.dir
      size: 859285
      nfiles: 6
    - path: ../evaluate.py
      hash: md5
      md5: 78b2d97eb6a8b7354dff1c568d081c96
      size: 2286
    - path: ../utils.py
      hash: md5
      md5: 52fc3ce530bd068bba046c138b0a718d
      size: 2354
    - path: train.py
      hash: md5
      md5: bed2e355cddd59f394cfb17b33ee6861
      size: 3217
    params:
      ../../../params.yaml:
        adaboost:
          n_estimators_min: 10
          n_estimators_max: 2000
        cv: 5
        n_iter: 30
        nn:
          first_hidden_layer_sizes_min: 128
          first_hidden_layer_sizes_max: 512
          second_hidden_layer_sizes_min: 256
          second_hidden_layer_sizes_max: 1024
          learning_rates:
          - 0.0001
          - 0.001
          - 0.01
          batch_size: 32
          epochs: 50
        random_state: 42
        scoring: accuracy
        xgb:
          gamma_min: 5.0
          gamma_max: 11.0
          learning_rate_min: 0.07
          learning_rate_max: 0.6
          n_estimators:
          - 50
          - 100
          - 150
          regulation_alphas:
          - 1e-05
          - 0.01
          - 0.75
          regulation_lambdas:
          - 1e-05
          - 0.01
          - 0.45
          min_child_weights:
          - 1.5
          - 6
          - 10
          subsamples:
          - 0.6
          - 0.95
          max_depths:
          - 3
          - 6
          - 9
    outs:
    - path: ../../../dvclive/xgb/front/metrics.json
      hash: md5
      md5: 31478599d66445c1e6e48777b7b63512
      size: 725
    - path: ../../../dvclive/xgb/front/plots/metrics
      hash: md5
      md5: e3465b191925046b2292c1e7c1b10aab.dir
      size: 705
      nfiles: 17
    - path: ../../../dvclive/xgb/left/metrics.json
      hash: md5
      md5: ccb588224085f90c1039051b01e2fc3f
      size: 710
    - path: ../../../dvclive/xgb/left/plots/metrics
      hash: md5
      md5: 3e1277da118d7af1e5dce67f7f6dd28b.dir
      size: 690
      nfiles: 17
    - path: ../../../dvclive/xgb/right/metrics.json
      hash: md5
      md5: d5dc23cb624612d7abe1aca2a06d75e3
      size: 708
    - path: ../../../dvclive/xgb/right/plots/metrics
      hash: md5
      md5: 095df559b2ce50073bb83633877adf8d.dir
      size: 688
      nfiles: 17
    - path: ../../../models/xgb
      hash: md5
      md5: 43b54bcd0cf5e75b10a0d21daa1d0ff9.dir
      size: 178016
      nfiles: 3
