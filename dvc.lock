schema: '2.0'
stages:
  featurize:
    cmd: uv run python src/featurize.py
    deps:
    - path: data/original
      hash: md5
      md5: 2e48746054b3065a5dcb4c7da98abc9e.dir
      size: 4410730947
      nfiles: 1620
    - path: src/featurize.py
      hash: md5
      md5: a3c218bdbc7f80e4d3c963c788e95a73
      size: 606
      isexec: true
    outs:
    - path: data/data.csv
      hash: md5
      md5: 62594eb52e65c03d334c16e347e4dcfb
      size: 602132
    - path: data/poses_images_out
      hash: md5
      md5: a0a69b18d360cf189b99eb19cfde19a3.dir
      size: 6533685930
      nfiles: 2466
  prepare:
    cmd: uv run python src/prepare.py
    deps:
    - path: data/data.csv
      hash: md5
      md5: 62594eb52e65c03d334c16e347e4dcfb
      size: 602132
    - path: src/prepare.py
      hash: md5
      md5: 0f31afb9100cf31348f2b1e72956889d
      size: 3542
    outs:
    - path: data/processed
      hash: md5
      md5: d6c921e9dc18c2a3331d14a2b6ec776a.dir
      size: 870545
      nfiles: 2
  train@nn:
    cmd: uv run python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: d6c921e9dc18c2a3331d14a2b6ec776a.dir
      size: 870545
      nfiles: 2
    - path: ../evaluate.py
      hash: md5
      md5: 34bb5d8392f4436793cb655ff6468e2b
      size: 2308
    - path: ../utils.py
      hash: md5
      md5: f9221b982eef5763df63f22b15728ca2
      size: 2127
    - path: train.py
      hash: md5
      md5: 219a7a02f80879cc5f7feea10dc7510b
      size: 4850
    params:
      ../../../params.yaml:
        adaboost:
          n_estimators_min: 10
          n_estimators_max: 2000
        cv: 5
        n_iter: 30
        nn:
          first_hidden_layer_sizes_min: 128
          first_hidden_layer_sizes_max: 512
          second_hidden_layer_sizes_min: 256
          second_hidden_layer_sizes_max: 1024
          learning_rates:
          - 0.0001
          - 0.001
          - 0.01
          batch_size: 32
          epochs: 50
        random_state: 42
        scoring: accuracy
        xgb:
          gamma_min: 5.0
          gamma_max: 11.0
          learning_rate_min: 0.07
          learning_rate_max: 0.6
          n_estimators:
          - 50
          - 100
          - 150
          regulation_alphas:
          - 1e-05
          - 0.01
          - 0.75
          regulation_lambdas:
          - 1e-05
          - 0.01
          - 0.45
          min_child_weights:
          - 1.5
          - 6
          - 10
          subsamples:
          - 0.6
          - 0.95
          max_depths:
          - 3
          - 6
          - 9
    outs:
    - path: ../../../dvclive/nn/metrics.json
      hash: md5
      md5: 98641cd9edea9c8481339416f09f43fc
      size: 701
    - path: ../../../dvclive/nn/plots/metrics
      hash: md5
      md5: 8c168d417b1b6249e773d68e5b7c81e9.dir
      size: 1745
      nfiles: 17
    - path: ../../../models/nn
      hash: md5
      md5: 9346d20a882f69445e4fa54e6bdd899a.dir
      size: 5877880
      nfiles: 1
  download:
    cmd: kaggle datasets download -d zeerafle/sitting-posture -p data/original 
      --unzip
    outs:
    - path: data/original
      hash: md5
      md5: f458dc9b6943d40f2877b4f63078bd55.dir
      size: 4931462708
      nfiles: 1725
  train@0:
    cmd: python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 7983815f9ab4ca79cc3f24b754b71c7d.dir
      size: 833552
      nfiles: 3
    - path: ../../evaluate.py
      hash: md5
      md5: 9750451b75fa9fd3133b164423b9adc9
      size: 1044
    - path: train.py
      hash: md5
      md5: de4cc961d34506a92c623e755dc746c0
      size: 1741
    outs:
    - path: ../../../dvclive/nn/metrics.json
      hash: md5
      md5: 27eb163fc70ec295be20945fb2597b82
      size: 425
    - path: ../../../dvclive/nn/plots/images
      hash: md5
      md5: b45cdf9c0f72acfa78741bf8729331cd.dir
      size: 194675
      nfiles: 2
    - path: ../../../dvclive/nn/plots/metrics
      hash: md5
      md5: 1d860435e9b4f153460e0804298b2b65.dir
      size: 6234
      nfiles: 9
    - path: model.keras
      hash: md5
      md5: 563059d16b21dd7e536ff4c8fc466b6e
      size: 176464
  train@1:
    cmd: python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 7983815f9ab4ca79cc3f24b754b71c7d.dir
      size: 833552
      nfiles: 3
    - path: ../../evaluate.py
      hash: md5
      md5: 9750451b75fa9fd3133b164423b9adc9
      size: 1044
    - path: train.py
      hash: md5
      md5: e4280781cde58304dc460eda60b613e0
      size: 1059
    outs:
    - path: ../../../dvclive/adaboost/metrics.json
      hash: md5
      md5: 194d211150fe8ce4b82f0d7a52bcca6b
      size: 206
    - path: ../../../dvclive/adaboost/plots/images
      hash: md5
      md5: 17380a8883a8cbda819ac00082996bbb.dir
      size: 197922
      nfiles: 2
    - path: ../../../dvclive/adaboost/plots/metrics
      hash: md5
      md5: 35726495fef10f47fba7a4577bd7a3fb.dir
      size: 201
      nfiles: 5
    - path: adaboost.joblib
      hash: md5
      md5: 100f35d8a8f60bd4e949c87bd0107f62
      size: 322100
  train@2:
    cmd: python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 7983815f9ab4ca79cc3f24b754b71c7d.dir
      size: 833552
      nfiles: 3
    - path: ../../evaluate.py
      hash: md5
      md5: 9750451b75fa9fd3133b164423b9adc9
      size: 1044
    - path: train.py
      hash: md5
      md5: 2381f13ab30c03cdeb09ceeb8cf9cd44
      size: 923
    outs:
    - path: ../../../dvclive/xgb/metrics.json
      hash: md5
      md5: a20ed80bc7dbe3eeac9485db99b5ed9f
      size: 207
    - path: ../../../dvclive/xgb/plots/images
      hash: md5
      md5: 1a8ae4b5437d2f189611e0af16a9fd52.dir
      size: 194666
      nfiles: 2
    - path: ../../../dvclive/xgb/plots/metrics
      hash: md5
      md5: 397de00cdd392d05ebc33ecad8fce5a0.dir
      size: 202
      nfiles: 5
    - path: model.json
      hash: md5
      md5: 9a9bb053aadd2642faf54282d72f8846
      size: 204542
  train@xgb:
    cmd: uv run python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: d6c921e9dc18c2a3331d14a2b6ec776a.dir
      size: 870545
      nfiles: 2
    - path: ../evaluate.py
      hash: md5
      md5: 34bb5d8392f4436793cb655ff6468e2b
      size: 2308
    - path: ../utils.py
      hash: md5
      md5: f9221b982eef5763df63f22b15728ca2
      size: 2127
    - path: train.py
      hash: md5
      md5: 2a3071af683b43c6e04f42e9fdc88319
      size: 4294
    params:
      ../../../params.yaml:
        adaboost:
          n_estimators_min: 10
          n_estimators_max: 2000
        cv: 5
        n_iter: 30
        nn:
          first_hidden_layer_sizes_min: 128
          first_hidden_layer_sizes_max: 512
          second_hidden_layer_sizes_min: 256
          second_hidden_layer_sizes_max: 1024
          learning_rates:
          - 0.0001
          - 0.001
          - 0.01
          batch_size: 32
          epochs: 50
        random_state: 42
        scoring: accuracy
        xgb:
          gamma_min: 5.0
          gamma_max: 11.0
          learning_rate_min: 0.07
          learning_rate_max: 0.6
          n_estimators:
          - 50
          - 100
          - 150
          regulation_alphas:
          - 1e-05
          - 0.01
          - 0.75
          regulation_lambdas:
          - 1e-05
          - 0.01
          - 0.45
          min_child_weights:
          - 1.5
          - 6
          - 10
          subsamples:
          - 0.6
          - 0.95
          max_depths:
          - 3
          - 6
          - 9
    outs:
    - path: ../../../dvclive/xgb/metrics.json
      hash: md5
      md5: ba67c8e77f99da32554c532e310baacb
      size: 665
    - path: ../../../dvclive/xgb/plots/metrics
      hash: md5
      md5: 046dc5f894c426422474b72584113829.dir
      size: 646
      nfiles: 16
    - path: ../../../models/xgb
      hash: md5
      md5: e7c5fc550f252e9f6a8a0821a6c65f1a.dir
      size: 51101
      nfiles: 1
  train@adaboost:
    cmd: uv run python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: d6c921e9dc18c2a3331d14a2b6ec776a.dir
      size: 870545
      nfiles: 2
    - path: ../evaluate.py
      hash: md5
      md5: 34bb5d8392f4436793cb655ff6468e2b
      size: 2308
    - path: ../utils.py
      hash: md5
      md5: f9221b982eef5763df63f22b15728ca2
      size: 2127
    - path: train.py
      hash: md5
      md5: dad1abd767817c856ae9b6ed5e9785cf
      size: 3618
    params:
      ../../../params.yaml:
        adaboost:
          n_estimators_min: 10
          n_estimators_max: 2000
        cv: 5
        n_iter: 30
        nn:
          first_hidden_layer_sizes_min: 128
          first_hidden_layer_sizes_max: 512
          second_hidden_layer_sizes_min: 256
          second_hidden_layer_sizes_max: 1024
          learning_rates:
          - 0.0001
          - 0.001
          - 0.01
          batch_size: 32
          epochs: 50
        random_state: 42
        scoring: accuracy
        xgb:
          gamma_min: 5.0
          gamma_max: 11.0
          learning_rate_min: 0.07
          learning_rate_max: 0.6
          n_estimators:
          - 50
          - 100
          - 150
          regulation_alphas:
          - 1e-05
          - 0.01
          - 0.75
          regulation_lambdas:
          - 1e-05
          - 0.01
          - 0.45
          min_child_weights:
          - 1.5
          - 6
          - 10
          subsamples:
          - 0.6
          - 0.95
          max_depths:
          - 3
          - 6
          - 9
    outs:
    - path: ../../../dvclive/adaboost/metrics.json
      hash: md5
      md5: 3066542e137d01ca75fc6b24237a40c7
      size: 729
    - path: ../../../dvclive/adaboost/plots/metrics
      hash: md5
      md5: 93edda745aa24b0737a689ee85cc1dff.dir
      size: 709
      nfiles: 17
    - path: ../../../models/adaboost
      hash: md5
      md5: f53857f845b6234efa6c6aed85d7f375.dir
      size: 454468
      nfiles: 1
