schema: '2.0'
stages:
  featurize:
    cmd: uv run python src/featurize.py
    deps:
    - path: data/data.csv
      hash: md5
      md5: 62594eb52e65c03d334c16e347e4dcfb
      size: 602132
    - path: src/feature_extraction/
      hash: md5
      md5: 1db8b83ff6a7558dd77d499f0f0c850d.dir
      size: 83969
      nfiles: 8
    - path: src/featurize.py
      hash: md5
      md5: 53de9237d3df698d08aaa3c5d51eb90c
      size: 1012
    outs:
    - path: data/data_with_features.csv
      hash: md5
      md5: 18e2696eeec4b7952e77442c8383b932
      size: 1539213
  prepare:
    cmd: uv run python src/prepare.py
    deps:
    - path: data/data_with_features.csv
      hash: md5
      md5: 18e2696eeec4b7952e77442c8383b932
      size: 1539213
      isexec: true
    - path: src/prepare.py
      hash: md5
      md5: 2e386586d3caadc2d5f1b4193160b6ff
      size: 5852
    outs:
    - path: data/processed
      hash: md5
      md5: a39e8e59a9d7b21b2a76b2c866c7c53f.dir
      size: 1960779
      nfiles: 9
  train@nn:
    cmd: uv run python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: a39e8e59a9d7b21b2a76b2c866c7c53f.dir
      size: 1960779
      nfiles: 9
    - path: ../base_trainer.py
      hash: md5
      md5: c79d770a9ff12b3c2a97468cadb2434d
      size: 5141
      isexec: true
    - path: ../evaluate.py
      hash: md5
      md5: 4a50127036509085f409814f01cdf66d
      size: 2488
    - path: ../utils.py
      hash: md5
      md5: fadcde095187d68c2698b49dd67fa6ec
      size: 2137
    - path: train.py
      hash: md5
      md5: 14480d542440bf1c98ad8e4909a7f3c5
      size: 2382
    params:
      ../../../params.yaml:
        adaboost:
          n_estimators_min: 10
          n_estimators_max: 2000
        cv: 5
        n_iter: 30
        nn:
          first_hidden_layer_sizes_min: 128
          first_hidden_layer_sizes_max: 512
          second_hidden_layer_sizes_min: 256
          second_hidden_layer_sizes_max: 1024
          learning_rates:
          - 0.0001
          - 0.001
          - 0.01
          batch_size: 32
          epochs: 50
        random_state: 42
        scoring: accuracy
        xgb:
          gamma_min: 5.0
          gamma_max: 11.0
          learning_rate_min: 0.07
          learning_rate_max: 0.6
          n_estimators:
          - 50
          - 100
          - 150
          regulation_alphas:
          - 1e-05
          - 0.01
          - 0.75
          regulation_lambdas:
          - 1e-05
          - 0.01
          - 0.45
          min_child_weights:
          - 1.5
          - 6
          - 10
          subsamples:
          - 0.6
          - 0.95
          max_depths:
          - 3
          - 6
          - 9
    outs:
    - path: ../../../dvclive/nn/front/cv_results.json
      hash: md5
      md5: 9ee7a51b1d547e08d4bc23492f8d22e9
      size: 1173
    - path: ../../../dvclive/nn/front/htcv_results.json
      hash: md5
      md5: 33ebc1f482ad50fc0335e8603c03a495
      size: 13763
    - path: ../../../dvclive/nn/front/metrics.json
      hash: md5
      md5: 63fc150a6158e90bc7e68e57f34813d7
      size: 1216
    - path: ../../../dvclive/nn/left/cv_results.json
      hash: md5
      md5: 257d6289de9ce952db0d92ba4af3d881
      size: 1159
    - path: ../../../dvclive/nn/left/htcv_results.json
      hash: md5
      md5: 3c8c7f642d551451b9822c6b96a5ed77
      size: 13772
    - path: ../../../dvclive/nn/left/metrics.json
      hash: md5
      md5: 97a4bb5b3df400148dcf0b58e4f24982
      size: 1163
    - path: ../../../dvclive/nn/right/cv_results.json
      hash: md5
      md5: d89038d93e82354e44e2569a95c2ea03
      size: 1146
    - path: ../../../dvclive/nn/right/htcv_results.json
      hash: md5
      md5: 42081799f4d41bb994133fba7c61bff7
      size: 13767
    - path: ../../../dvclive/nn/right/metrics.json
      hash: md5
      md5: 38899d1bdaeabddc729984948a83d954
      size: 1200
    - path: ../../../models/nn/
      hash: md5
      md5: 8845e39487d44a1ddc931105b6f24052.dir
      size: 1727112
      nfiles: 3
  download:
    cmd: kaggle datasets download -d zeerafle/sitting-posture -p data/original 
      --unzip
    outs:
    - path: data/original
      hash: md5
      md5: f458dc9b6943d40f2877b4f63078bd55.dir
      size: 4931462708
      nfiles: 1725
  train@0:
    cmd: python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 7983815f9ab4ca79cc3f24b754b71c7d.dir
      size: 833552
      nfiles: 3
    - path: ../../evaluate.py
      hash: md5
      md5: 9750451b75fa9fd3133b164423b9adc9
      size: 1044
    - path: train.py
      hash: md5
      md5: de4cc961d34506a92c623e755dc746c0
      size: 1741
    outs:
    - path: ../../../dvclive/nn/metrics.json
      hash: md5
      md5: 27eb163fc70ec295be20945fb2597b82
      size: 425
    - path: ../../../dvclive/nn/plots/images
      hash: md5
      md5: b45cdf9c0f72acfa78741bf8729331cd.dir
      size: 194675
      nfiles: 2
    - path: ../../../dvclive/nn/plots/metrics
      hash: md5
      md5: 1d860435e9b4f153460e0804298b2b65.dir
      size: 6234
      nfiles: 9
    - path: model.keras
      hash: md5
      md5: 563059d16b21dd7e536ff4c8fc466b6e
      size: 176464
  train@1:
    cmd: python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 7983815f9ab4ca79cc3f24b754b71c7d.dir
      size: 833552
      nfiles: 3
    - path: ../../evaluate.py
      hash: md5
      md5: 9750451b75fa9fd3133b164423b9adc9
      size: 1044
    - path: train.py
      hash: md5
      md5: e4280781cde58304dc460eda60b613e0
      size: 1059
    outs:
    - path: ../../../dvclive/adaboost/metrics.json
      hash: md5
      md5: 194d211150fe8ce4b82f0d7a52bcca6b
      size: 206
    - path: ../../../dvclive/adaboost/plots/images
      hash: md5
      md5: 17380a8883a8cbda819ac00082996bbb.dir
      size: 197922
      nfiles: 2
    - path: ../../../dvclive/adaboost/plots/metrics
      hash: md5
      md5: 35726495fef10f47fba7a4577bd7a3fb.dir
      size: 201
      nfiles: 5
    - path: adaboost.joblib
      hash: md5
      md5: 100f35d8a8f60bd4e949c87bd0107f62
      size: 322100
  train@2:
    cmd: python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 7983815f9ab4ca79cc3f24b754b71c7d.dir
      size: 833552
      nfiles: 3
    - path: ../../evaluate.py
      hash: md5
      md5: 9750451b75fa9fd3133b164423b9adc9
      size: 1044
    - path: train.py
      hash: md5
      md5: 2381f13ab30c03cdeb09ceeb8cf9cd44
      size: 923
    outs:
    - path: ../../../dvclive/xgb/metrics.json
      hash: md5
      md5: a20ed80bc7dbe3eeac9485db99b5ed9f
      size: 207
    - path: ../../../dvclive/xgb/plots/images
      hash: md5
      md5: 1a8ae4b5437d2f189611e0af16a9fd52.dir
      size: 194666
      nfiles: 2
    - path: ../../../dvclive/xgb/plots/metrics
      hash: md5
      md5: 397de00cdd392d05ebc33ecad8fce5a0.dir
      size: 202
      nfiles: 5
    - path: model.json
      hash: md5
      md5: 9a9bb053aadd2642faf54282d72f8846
      size: 204542
  train@xgb:
    cmd: uv run python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: a39e8e59a9d7b21b2a76b2c866c7c53f.dir
      size: 1960779
      nfiles: 9
    - path: ../base_trainer.py
      hash: md5
      md5: c79d770a9ff12b3c2a97468cadb2434d
      size: 5141
      isexec: true
    - path: ../evaluate.py
      hash: md5
      md5: 4a50127036509085f409814f01cdf66d
      size: 2488
    - path: ../utils.py
      hash: md5
      md5: fadcde095187d68c2698b49dd67fa6ec
      size: 2137
    - path: train.py
      hash: md5
      md5: fa6d3533d9e53431de4b0fd6c162babe
      size: 1632
    params:
      ../../../params.yaml:
        adaboost:
          n_estimators_min: 10
          n_estimators_max: 2000
        cv: 5
        n_iter: 30
        nn:
          first_hidden_layer_sizes_min: 128
          first_hidden_layer_sizes_max: 512
          second_hidden_layer_sizes_min: 256
          second_hidden_layer_sizes_max: 1024
          learning_rates:
          - 0.0001
          - 0.001
          - 0.01
          batch_size: 32
          epochs: 50
        random_state: 42
        scoring: accuracy
        xgb:
          gamma_min: 5.0
          gamma_max: 11.0
          learning_rate_min: 0.07
          learning_rate_max: 0.6
          n_estimators:
          - 50
          - 100
          - 150
          regulation_alphas:
          - 1e-05
          - 0.01
          - 0.75
          regulation_lambdas:
          - 1e-05
          - 0.01
          - 0.45
          min_child_weights:
          - 1.5
          - 6
          - 10
          subsamples:
          - 0.6
          - 0.95
          max_depths:
          - 3
          - 6
          - 9
    outs:
    - path: ../../../dvclive/xgb/front/cv_results.json
      hash: md5
      md5: e2031d2f2a1bd4b031a3e1ef77df242d
      size: 1164
    - path: ../../../dvclive/xgb/front/htcv_results.json
      hash: md5
      md5: fbf463663ffa943cdb1faf4784686c77
      size: 23135
    - path: ../../../dvclive/xgb/front/metrics.json
      hash: md5
      md5: b3ebaef64496d08e9887fef439220942
      size: 1213
    - path: ../../../dvclive/xgb/left/cv_results.json
      hash: md5
      md5: 8ade5a16d64a6f005ae6519d78868750
      size: 1159
    - path: ../../../dvclive/xgb/left/htcv_results.json
      hash: md5
      md5: fc278f3f9667b4c38d1e949e07fb474e
      size: 23113
    - path: ../../../dvclive/xgb/left/metrics.json
      hash: md5
      md5: 41b4f547b0692ca6758d2cbfc45b9d94
      size: 1178
    - path: ../../../dvclive/xgb/right/cv_results.json
      hash: md5
      md5: 539640848668b77babd3f03765a575bf
      size: 1161
    - path: ../../../dvclive/xgb/right/htcv_results.json
      hash: md5
      md5: f4f04adf06ef5fce4d0278a8859e88e2
      size: 23013
    - path: ../../../dvclive/xgb/right/metrics.json
      hash: md5
      md5: 4aee491ecf1315f4964eaab9095ab7bb
      size: 1158
    - path: ../../../models/xgb/
      hash: md5
      md5: b05339564d02dbb18eaa72d9986ce536.dir
      size: 126338
      nfiles: 3
  train@adaboost:
    cmd: uv run python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: a39e8e59a9d7b21b2a76b2c866c7c53f.dir
      size: 1960779
      nfiles: 9
    - path: ../base_trainer.py
      hash: md5
      md5: c79d770a9ff12b3c2a97468cadb2434d
      size: 5141
      isexec: true
    - path: ../evaluate.py
      hash: md5
      md5: 4a50127036509085f409814f01cdf66d
      size: 2488
    - path: ../utils.py
      hash: md5
      md5: fadcde095187d68c2698b49dd67fa6ec
      size: 2137
    - path: train.py
      hash: md5
      md5: 05a3361fca778c01e2a31147fd968ddb
      size: 1160
    params:
      ../../../params.yaml:
        adaboost:
          n_estimators_min: 10
          n_estimators_max: 2000
        cv: 5
        n_iter: 30
        nn:
          first_hidden_layer_sizes_min: 128
          first_hidden_layer_sizes_max: 512
          second_hidden_layer_sizes_min: 256
          second_hidden_layer_sizes_max: 1024
          learning_rates:
          - 0.0001
          - 0.001
          - 0.01
          batch_size: 32
          epochs: 50
        random_state: 42
        scoring: accuracy
        xgb:
          gamma_min: 5.0
          gamma_max: 11.0
          learning_rate_min: 0.07
          learning_rate_max: 0.6
          n_estimators:
          - 50
          - 100
          - 150
          regulation_alphas:
          - 1e-05
          - 0.01
          - 0.75
          regulation_lambdas:
          - 1e-05
          - 0.01
          - 0.45
          min_child_weights:
          - 1.5
          - 6
          - 10
          subsamples:
          - 0.6
          - 0.95
          max_depths:
          - 3
          - 6
          - 9
    outs:
    - path: ../../../dvclive/adaboost/front/cv_results.json
      hash: md5
      md5: c77f5aa9e50f047325ba78b73fe7e5c3
      size: 1138
    - path: ../../../dvclive/adaboost/front/htcv_results.json
      hash: md5
      md5: aaaa475846e7fe57da6a107c98cf959d
      size: 12132
    - path: ../../../dvclive/adaboost/front/metrics.json
      hash: md5
      md5: 8087988743faff63d1bb56798675dcba
      size: 1234
    - path: ../../../dvclive/adaboost/left/cv_results.json
      hash: md5
      md5: 0a049c95ee27ddc36ac9f3665af6aaf8
      size: 1153
    - path: ../../../dvclive/adaboost/left/htcv_results.json
      hash: md5
      md5: 0df2b867f2336ad5ace237febf3cfcfe
      size: 12095
    - path: ../../../dvclive/adaboost/left/metrics.json
      hash: md5
      md5: 0722f0863e04c01c40deb4bbf0df3edd
      size: 1205
    - path: ../../../dvclive/adaboost/right/cv_results.json
      hash: md5
      md5: 487b8b09689223b9cbc60c7235aa3d47
      size: 1168
    - path: ../../../dvclive/adaboost/right/htcv_results.json
      hash: md5
      md5: cc5a3876af7e409bb9b5cec0caa611db
      size: 12123
    - path: ../../../dvclive/adaboost/right/metrics.json
      hash: md5
      md5: 84e378b45564e8dba2d3ad39933403fc
      size: 1230
    - path: ../../../models/adaboost/
      hash: md5
      md5: 1b0ec623710bb1922b1905ee418a85fe.dir
      size: 1897164
      nfiles: 3
  extract_keypoints:
    cmd: uv run python src/extract_keypoints.py
    deps:
    - path: data/original
      hash: md5
      md5: 2e48746054b3065a5dcb4c7da98abc9e.dir
      size: 4410730947
      nfiles: 1620
    - path: src/extract_keypoints.py
      hash: md5
      md5: 87577b0e1ac8745068c9948240489796
      size: 694
    - path: src/keypoints_extraction/
      hash: md5
      md5: e8f6af95126bdaa5465dc04d871baf36.dir
      size: 33389
      nfiles: 4
    outs:
    - path: data/data.csv
      hash: md5
      md5: 62594eb52e65c03d334c16e347e4dcfb
      size: 602132
    - path: data/poses_images_out
      hash: md5
      md5: 34b689bb07e49240cb14a4c08a2befed.dir
      size: 4273367908
      nfiles: 1620
