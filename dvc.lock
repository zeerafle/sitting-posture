schema: '2.0'
stages:
  featurize:
    cmd: uv run python src/featurize.py
    deps:
    - path: data/data.csv
      hash: md5
      md5: 62594eb52e65c03d334c16e347e4dcfb
      size: 602132
      isexec: true
    - path: src/feature_extraction/
      hash: md5
      md5: 8b3f74291f032557708ea9f180ef9778.dir
      size: 78992
      nfiles: 8
    - path: src/featurize.py
      hash: md5
      md5: 53de9237d3df698d08aaa3c5d51eb90c
      size: 1012
      isexec: true
    outs:
    - path: data/data_with_features.csv
      hash: md5
      md5: 2e2f2c9a64f2d703b50ccfaeeb35a2a2
      size: 1468562
  prepare:
    cmd: uv run python src/prepare.py
    deps:
    - path: data/data_with_features.csv
      hash: md5
      md5: 2e2f2c9a64f2d703b50ccfaeeb35a2a2
      size: 1468562
    - path: src/prepare.py
      hash: md5
      md5: 2e386586d3caadc2d5f1b4193160b6ff
      size: 5852
      isexec: true
    outs:
    - path: data/processed
      hash: md5
      md5: 1a2640393c2285ce36038d232642b95a.dir
      size: 1865332
      nfiles: 9
  train@nn:
    cmd: uv run python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 1a2640393c2285ce36038d232642b95a.dir
      size: 1865332
      nfiles: 9
    - path: ../base_trainer.py
      hash: md5
      md5: c79d770a9ff12b3c2a97468cadb2434d
      size: 5141
      isexec: true
    - path: ../evaluate.py
      hash: md5
      md5: 4a50127036509085f409814f01cdf66d
      size: 2488
      isexec: true
    - path: ../utils.py
      hash: md5
      md5: fadcde095187d68c2698b49dd67fa6ec
      size: 2137
      isexec: true
    - path: train.py
      hash: md5
      md5: 14480d542440bf1c98ad8e4909a7f3c5
      size: 2382
      isexec: true
    params:
      ../../../params.yaml:
        adaboost:
          n_estimators_min: 10
          n_estimators_max: 2000
        cv: 5
        n_iter: 30
        nn:
          first_hidden_layer_sizes_min: 128
          first_hidden_layer_sizes_max: 512
          second_hidden_layer_sizes_min: 256
          second_hidden_layer_sizes_max: 1024
          learning_rates:
          - 0.0001
          - 0.001
          - 0.01
          batch_size: 32
          epochs: 50
        random_state: 42
        scoring: accuracy
        xgb:
          gamma_min: 5.0
          gamma_max: 11.0
          learning_rate_min: 0.07
          learning_rate_max: 0.6
          n_estimators:
          - 50
          - 100
          - 150
          regulation_alphas:
          - 1e-05
          - 0.01
          - 0.75
          regulation_lambdas:
          - 1e-05
          - 0.01
          - 0.45
          min_child_weights:
          - 1.5
          - 6
          - 10
          subsamples:
          - 0.6
          - 0.95
          max_depths:
          - 3
          - 6
          - 9
    outs:
    - path: ../../../dvclive/nn/front/cv_results.json
      hash: md5
      md5: 8b16d2cb4b7fe86a310ed9aa84ef9bc5
      size: 1178
    - path: ../../../dvclive/nn/front/htcv_results.json
      hash: md5
      md5: 9d9b3f66d54355efb64c7418f470c96c
      size: 13732
    - path: ../../../dvclive/nn/front/metrics.json
      hash: md5
      md5: 6b6a6f16838c7e0d3dbb3e4bfa9c263d
      size: 1220
    - path: ../../../dvclive/nn/left/cv_results.json
      hash: md5
      md5: 39331360275dcd11d4750cbb753233d0
      size: 1119
    - path: ../../../dvclive/nn/left/htcv_results.json
      hash: md5
      md5: 8b6945ca7e899c5663c01f2fab83bc85
      size: 13768
    - path: ../../../dvclive/nn/left/metrics.json
      hash: md5
      md5: 886d7c5b8a80b0e0d040e2b28ed55f32
      size: 1225
    - path: ../../../dvclive/nn/right/cv_results.json
      hash: md5
      md5: 341eca7b5da04a6108ae9a195cc7f922
      size: 1178
    - path: ../../../dvclive/nn/right/htcv_results.json
      hash: md5
      md5: d4b51f675c48fbfe3d33935dc7977a7d
      size: 13745
    - path: ../../../dvclive/nn/right/metrics.json
      hash: md5
      md5: 3fe55b7f44d0b5d73206f61ce99a22c5
      size: 1210
    - path: ../../../models/nn/
      hash: md5
      md5: 07f240de0e529f5ffdd2094fb16f1cee.dir
      size: 1644792
      nfiles: 3
  download:
    cmd: kaggle datasets download -d zeerafle/sitting-posture -p data/original 
      --unzip
    outs:
    - path: data/original
      hash: md5
      md5: f458dc9b6943d40f2877b4f63078bd55.dir
      size: 4931462708
      nfiles: 1725
  train@0:
    cmd: python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 7983815f9ab4ca79cc3f24b754b71c7d.dir
      size: 833552
      nfiles: 3
    - path: ../../evaluate.py
      hash: md5
      md5: 9750451b75fa9fd3133b164423b9adc9
      size: 1044
    - path: train.py
      hash: md5
      md5: de4cc961d34506a92c623e755dc746c0
      size: 1741
    outs:
    - path: ../../../dvclive/nn/metrics.json
      hash: md5
      md5: 27eb163fc70ec295be20945fb2597b82
      size: 425
    - path: ../../../dvclive/nn/plots/images
      hash: md5
      md5: b45cdf9c0f72acfa78741bf8729331cd.dir
      size: 194675
      nfiles: 2
    - path: ../../../dvclive/nn/plots/metrics
      hash: md5
      md5: 1d860435e9b4f153460e0804298b2b65.dir
      size: 6234
      nfiles: 9
    - path: model.keras
      hash: md5
      md5: 563059d16b21dd7e536ff4c8fc466b6e
      size: 176464
  train@1:
    cmd: python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 7983815f9ab4ca79cc3f24b754b71c7d.dir
      size: 833552
      nfiles: 3
    - path: ../../evaluate.py
      hash: md5
      md5: 9750451b75fa9fd3133b164423b9adc9
      size: 1044
    - path: train.py
      hash: md5
      md5: e4280781cde58304dc460eda60b613e0
      size: 1059
    outs:
    - path: ../../../dvclive/adaboost/metrics.json
      hash: md5
      md5: 194d211150fe8ce4b82f0d7a52bcca6b
      size: 206
    - path: ../../../dvclive/adaboost/plots/images
      hash: md5
      md5: 17380a8883a8cbda819ac00082996bbb.dir
      size: 197922
      nfiles: 2
    - path: ../../../dvclive/adaboost/plots/metrics
      hash: md5
      md5: 35726495fef10f47fba7a4577bd7a3fb.dir
      size: 201
      nfiles: 5
    - path: adaboost.joblib
      hash: md5
      md5: 100f35d8a8f60bd4e949c87bd0107f62
      size: 322100
  train@2:
    cmd: python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 7983815f9ab4ca79cc3f24b754b71c7d.dir
      size: 833552
      nfiles: 3
    - path: ../../evaluate.py
      hash: md5
      md5: 9750451b75fa9fd3133b164423b9adc9
      size: 1044
    - path: train.py
      hash: md5
      md5: 2381f13ab30c03cdeb09ceeb8cf9cd44
      size: 923
    outs:
    - path: ../../../dvclive/xgb/metrics.json
      hash: md5
      md5: a20ed80bc7dbe3eeac9485db99b5ed9f
      size: 207
    - path: ../../../dvclive/xgb/plots/images
      hash: md5
      md5: 1a8ae4b5437d2f189611e0af16a9fd52.dir
      size: 194666
      nfiles: 2
    - path: ../../../dvclive/xgb/plots/metrics
      hash: md5
      md5: 397de00cdd392d05ebc33ecad8fce5a0.dir
      size: 202
      nfiles: 5
    - path: model.json
      hash: md5
      md5: 9a9bb053aadd2642faf54282d72f8846
      size: 204542
  train@xgb:
    cmd: uv run python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 1a2640393c2285ce36038d232642b95a.dir
      size: 1865332
      nfiles: 9
    - path: ../base_trainer.py
      hash: md5
      md5: c79d770a9ff12b3c2a97468cadb2434d
      size: 5141
      isexec: true
    - path: ../evaluate.py
      hash: md5
      md5: 4a50127036509085f409814f01cdf66d
      size: 2488
      isexec: true
    - path: ../utils.py
      hash: md5
      md5: fadcde095187d68c2698b49dd67fa6ec
      size: 2137
      isexec: true
    - path: train.py
      hash: md5
      md5: fa6d3533d9e53431de4b0fd6c162babe
      size: 1632
      isexec: true
    params:
      ../../../params.yaml:
        adaboost:
          n_estimators_min: 10
          n_estimators_max: 2000
        cv: 5
        n_iter: 30
        nn:
          first_hidden_layer_sizes_min: 128
          first_hidden_layer_sizes_max: 512
          second_hidden_layer_sizes_min: 256
          second_hidden_layer_sizes_max: 1024
          learning_rates:
          - 0.0001
          - 0.001
          - 0.01
          batch_size: 32
          epochs: 50
        random_state: 42
        scoring: accuracy
        xgb:
          gamma_min: 5.0
          gamma_max: 11.0
          learning_rate_min: 0.07
          learning_rate_max: 0.6
          n_estimators:
          - 50
          - 100
          - 150
          regulation_alphas:
          - 1e-05
          - 0.01
          - 0.75
          regulation_lambdas:
          - 1e-05
          - 0.01
          - 0.45
          min_child_weights:
          - 1.5
          - 6
          - 10
          subsamples:
          - 0.6
          - 0.95
          max_depths:
          - 3
          - 6
          - 9
    outs:
    - path: ../../../dvclive/xgb/front/cv_results.json
      hash: md5
      md5: 03228d8bf5ad28b73da8f045240b128a
      size: 1176
    - path: ../../../dvclive/xgb/front/htcv_results.json
      hash: md5
      md5: 2888ea3cc410142c31d42edc9b611ada
      size: 23129
    - path: ../../../dvclive/xgb/front/metrics.json
      hash: md5
      md5: ef9df0f24ffab9b3e68ff6862fd50a15
      size: 1206
    - path: ../../../dvclive/xgb/left/cv_results.json
      hash: md5
      md5: 6adf60abcd8bc2ce7bc714c32f13c00d
      size: 1176
    - path: ../../../dvclive/xgb/left/htcv_results.json
      hash: md5
      md5: cd82a9e50129f02e3604c16b6f91ddbf
      size: 23117
    - path: ../../../dvclive/xgb/left/metrics.json
      hash: md5
      md5: 1f05ae85d091d39a8e008af0d3ecacd9
      size: 1215
    - path: ../../../dvclive/xgb/right/cv_results.json
      hash: md5
      md5: feb02141a81610f8373faef5673efda4
      size: 1163
    - path: ../../../dvclive/xgb/right/htcv_results.json
      hash: md5
      md5: f4762a79e80268d0b70831440099f571
      size: 22776
    - path: ../../../dvclive/xgb/right/metrics.json
      hash: md5
      md5: 3bc4e8d812b0726d361a51303a93ffbc
      size: 1199
    - path: ../../../models/xgb/
      hash: md5
      md5: e688ba96f73eec2852a41fe2d29c7f53.dir
      size: 157129
      nfiles: 3
  train@adaboost:
    cmd: uv run python train.py
    deps:
    - path: ../../../data/processed
      hash: md5
      md5: 1a2640393c2285ce36038d232642b95a.dir
      size: 1865332
      nfiles: 9
    - path: ../base_trainer.py
      hash: md5
      md5: c79d770a9ff12b3c2a97468cadb2434d
      size: 5141
      isexec: true
    - path: ../evaluate.py
      hash: md5
      md5: 4a50127036509085f409814f01cdf66d
      size: 2488
      isexec: true
    - path: ../utils.py
      hash: md5
      md5: fadcde095187d68c2698b49dd67fa6ec
      size: 2137
      isexec: true
    - path: train.py
      hash: md5
      md5: 05a3361fca778c01e2a31147fd968ddb
      size: 1160
      isexec: true
    params:
      ../../../params.yaml:
        adaboost:
          n_estimators_min: 10
          n_estimators_max: 2000
        cv: 5
        n_iter: 30
        nn:
          first_hidden_layer_sizes_min: 128
          first_hidden_layer_sizes_max: 512
          second_hidden_layer_sizes_min: 256
          second_hidden_layer_sizes_max: 1024
          learning_rates:
          - 0.0001
          - 0.001
          - 0.01
          batch_size: 32
          epochs: 50
        random_state: 42
        scoring: accuracy
        xgb:
          gamma_min: 5.0
          gamma_max: 11.0
          learning_rate_min: 0.07
          learning_rate_max: 0.6
          n_estimators:
          - 50
          - 100
          - 150
          regulation_alphas:
          - 1e-05
          - 0.01
          - 0.75
          regulation_lambdas:
          - 1e-05
          - 0.01
          - 0.45
          min_child_weights:
          - 1.5
          - 6
          - 10
          subsamples:
          - 0.6
          - 0.95
          max_depths:
          - 3
          - 6
          - 9
    outs:
    - path: ../../../dvclive/adaboost/front/cv_results.json
      hash: md5
      md5: f9b5365b63b036b5c5c81fa3eeee99d5
      size: 1166
    - path: ../../../dvclive/adaboost/front/htcv_results.json
      hash: md5
      md5: 1f8414558d295efd89c2ea767b329d65
      size: 12115
    - path: ../../../dvclive/adaboost/front/metrics.json
      hash: md5
      md5: 032084e8f1e9184fc5c94c183247dfcb
      size: 1252
    - path: ../../../dvclive/adaboost/left/cv_results.json
      hash: md5
      md5: 02d7e724048e9fe5260cb9653b7db9b0
      size: 1152
    - path: ../../../dvclive/adaboost/left/htcv_results.json
      hash: md5
      md5: 750a421c45575bc7cd6a710defbe9a2c
      size: 12128
    - path: ../../../dvclive/adaboost/left/metrics.json
      hash: md5
      md5: 2799cc8efe44147374521840bf0bc53e
      size: 1229
    - path: ../../../dvclive/adaboost/right/cv_results.json
      hash: md5
      md5: 7d6f951d2a7671f6c734bd99f46f2527
      size: 1150
    - path: ../../../dvclive/adaboost/right/htcv_results.json
      hash: md5
      md5: 657a19524cccb101f2d1c31a0eea218c
      size: 12121
    - path: ../../../dvclive/adaboost/right/metrics.json
      hash: md5
      md5: 6c4f188319ef51f50e5bdff51c20e786
      size: 1235
    - path: ../../../models/adaboost/
      hash: md5
      md5: e4fd5558126922c6034cd9a02b86bcdf.dir
      size: 1236492
      nfiles: 3
  extract_keypoints:
    cmd: uv run python src/extract_keypoints.py
    deps:
    - path: data/original
      hash: md5
      md5: 2e48746054b3065a5dcb4c7da98abc9e.dir
      size: 4410730947
      nfiles: 1620
    - path: src/extract_keypoints.py
      hash: md5
      md5: 87577b0e1ac8745068c9948240489796
      size: 694
    - path: src/keypoints_extraction/
      hash: md5
      md5: e8f6af95126bdaa5465dc04d871baf36.dir
      size: 33389
      nfiles: 4
    outs:
    - path: data/data.csv
      hash: md5
      md5: 62594eb52e65c03d334c16e347e4dcfb
      size: 602132
    - path: data/poses_images_out
      hash: md5
      md5: 34b689bb07e49240cb14a4c08a2befed.dir
      size: 4273367908
      nfiles: 1620
  summarize:
    cmd: uv run python src/model_comparison.py && uv run python 
      src/hyperparameter_analysis.py
    deps:
    - path: dvclive/adaboost/front/htcv_results.json
      hash: md5
      md5: 1f8414558d295efd89c2ea767b329d65
      size: 12115
    - path: dvclive/adaboost/front/metrics.json
      hash: md5
      md5: 032084e8f1e9184fc5c94c183247dfcb
      size: 1252
    - path: dvclive/adaboost/front/params.yaml
      hash: md5
      md5: 4766dcd740918db95139c9d83e08f467
      size: 53
    - path: dvclive/adaboost/left/htcv_results.json
      hash: md5
      md5: 750a421c45575bc7cd6a710defbe9a2c
      size: 12128
    - path: dvclive/adaboost/left/metrics.json
      hash: md5
      md5: 2799cc8efe44147374521840bf0bc53e
      size: 1229
    - path: dvclive/adaboost/left/params.yaml
      hash: md5
      md5: 894d8173385f3d8339b42825fab76d0a
      size: 54
    - path: dvclive/adaboost/right/htcv_results.json
      hash: md5
      md5: 657a19524cccb101f2d1c31a0eea218c
      size: 12121
    - path: dvclive/adaboost/right/metrics.json
      hash: md5
      md5: 6c4f188319ef51f50e5bdff51c20e786
      size: 1235
    - path: dvclive/adaboost/right/params.yaml
      hash: md5
      md5: 4989f0aefa3d9f12c145d581f310fa21
      size: 55
    - path: dvclive/nn/front/htcv_results.json
      hash: md5
      md5: 9d9b3f66d54355efb64c7418f470c96c
      size: 13732
    - path: dvclive/nn/front/metrics.json
      hash: md5
      md5: 6b6a6f16838c7e0d3dbb3e4bfa9c263d
      size: 1220
    - path: dvclive/nn/front/params.yaml
      hash: md5
      md5: ba82b8ec46fa9cb0d09bc057de4f9ed2
      size: 73
    - path: dvclive/nn/left/htcv_results.json
      hash: md5
      md5: 8b6945ca7e899c5663c01f2fab83bc85
      size: 13768
    - path: dvclive/nn/left/metrics.json
      hash: md5
      md5: 886d7c5b8a80b0e0d040e2b28ed55f32
      size: 1225
    - path: dvclive/nn/left/params.yaml
      hash: md5
      md5: a4a11b9faae06c1257036e36f70a038c
      size: 73
    - path: dvclive/nn/right/htcv_results.json
      hash: md5
      md5: d4b51f675c48fbfe3d33935dc7977a7d
      size: 13745
    - path: dvclive/nn/right/metrics.json
      hash: md5
      md5: 3fe55b7f44d0b5d73206f61ce99a22c5
      size: 1210
    - path: dvclive/nn/right/params.yaml
      hash: md5
      md5: 82ceb2f4ab7168f309b4d5b33a865360
      size: 73
    - path: dvclive/xgb/front/htcv_results.json
      hash: md5
      md5: 2888ea3cc410142c31d42edc9b611ada
      size: 23129
    - path: dvclive/xgb/front/metrics.json
      hash: md5
      md5: ef9df0f24ffab9b3e68ff6862fd50a15
      size: 1206
    - path: dvclive/xgb/front/params.yaml
      hash: md5
      md5: 668bdd18603b421385594719fa164e7d
      size: 161
    - path: dvclive/xgb/left/htcv_results.json
      hash: md5
      md5: cd82a9e50129f02e3604c16b6f91ddbf
      size: 23117
    - path: dvclive/xgb/left/metrics.json
      hash: md5
      md5: 1f05ae85d091d39a8e008af0d3ecacd9
      size: 1215
    - path: dvclive/xgb/left/params.yaml
      hash: md5
      md5: e726b8d868a638458b0e12d47935eaaf
      size: 162
    - path: dvclive/xgb/right/htcv_results.json
      hash: md5
      md5: f4762a79e80268d0b70831440099f571
      size: 22776
    - path: dvclive/xgb/right/metrics.json
      hash: md5
      md5: 3bc4e8d812b0726d361a51303a93ffbc
      size: 1199
    - path: dvclive/xgb/right/params.yaml
      hash: md5
      md5: ab2c4e8680dc7e7d1a2072bcb5c16c4f
      size: 161
    - path: src/hyperparameter_analysis.py
      hash: md5
      md5: 5cbb56192d1027891a43f9d286c0956c
      size: 10391
    - path: src/model_comparison.py
      hash: md5
      md5: e69215dab5fb530ef6aff54cc8897765
      size: 7852
      isexec: true
    outs:
    - path: dvclive/best_hyperparameters_summary.csv
      hash: md5
      md5: 66b01e59ce62c663c6706daaf8f8768c
      size: 2947
    - path: dvclive/clean_best_hyperparameters.csv
      hash: md5
      md5: b63f038cd31c8e518896c6621f99b914
      size: 1344
    - path: dvclive/detailed_model_view_comparison.csv
      hash: md5
      md5: 3c841e406f2e2e53f8edac8c50d66a50
      size: 1992
  visualize:
    cmd: uv run python src/roc_visualization.py
    deps:
    - path: data/processed
      hash: md5
      md5: 1a2640393c2285ce36038d232642b95a.dir
      size: 1865332
      nfiles: 9
    - path: models/adaboost
      hash: md5
      md5: e4fd5558126922c6034cd9a02b86bcdf.dir
      size: 1236492
      nfiles: 3
    - path: models/nn
      hash: md5
      md5: 07f240de0e529f5ffdd2094fb16f1cee.dir
      size: 1644792
      nfiles: 3
    - path: models/xgb
      hash: md5
      md5: e688ba96f73eec2852a41fe2d29c7f53.dir
      size: 157129
      nfiles: 3
    - path: src/models/utils.py
      hash: md5
      md5: fadcde095187d68c2698b49dd67fa6ec
      size: 2137
      isexec: true
    - path: src/roc_visualization.py
      hash: md5
      md5: c24aa5b0b267575d46ba60765e696b50
      size: 2784
    outs:
    - path: dvclive/plots/roc_curve_comparison.png
      hash: md5
      md5: 46eccf206c2d6c5cfc8a8a8b6741069a
      size: 369718
